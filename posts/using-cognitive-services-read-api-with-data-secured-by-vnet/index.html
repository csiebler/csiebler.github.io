<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><title>Using Cognitive Services Read API with data secured by VNET &#183; Clemens Siebler's Blog</title>
<meta name=title content="Using Cognitive Services Read API with data secured by VNET &#183; Clemens Siebler's Blog"><script type=text/javascript src=/js/appearance.min.74ad8406faea02f3e186ba5126249aaeed9073629e04b05037b903396b188724.js integrity="sha256-dK2EBvrqAvPhhrpRJiSaru2Qc2KeBLBQN7kDOWsYhyQ="></script><link type=text/css rel=stylesheet href=/css/main.bundle.min.7c1e6d40b23627ab31090b2d8fcdf80392861650296ac97e1d0d4d184dee1930.css integrity="sha256-fB5tQLI2J6sxCQstj834A5KGFlApasl+HQ1NGE3uGTA="><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.3e80d0528c59616e7de9b0ca9316d9afd314b49ed9e5e6b88873731486ad67ee.js integrity="sha256-PoDQUoxZYW596bDKkxbZr9MUtJ7Z5ea4iHNzFIatZ+4=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      
        Introduction #This post discusses how Cognitive Services can be used to process data that is securely stored behind a VNET.
      
    "><link rel=canonical href=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/"><meta property="og:site_name" content="Clemens Siebler's Blog"><meta property="og:title" content="Using Cognitive Services Read API with data secured by VNET"><meta property="og:description" content="Introduction #This post discusses how Cognitive Services can be used to process data that is securely stored behind a VNET."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2022-02-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Cognitive Services Read API with data secured by VNET"><meta name=twitter:description content="Introduction #This post discusses how Cognitive Services can be used to process data that is securely stored behind a VNET."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Using Cognitive Services Read API with data secured by VNET","headline":"Using Cognitive Services Read API with data secured by VNET","abstract":"Introduction #This post discusses how Cognitive Services can be used to process data that is securely stored behind a VNET.","inLanguage":"en","url":"https:\/\/clemenssiebler.com\/posts\/using-cognitive-services-read-api-with-data-secured-by-vnet\/","author":{"@type":"Person","name":""},"copyrightYear":"2022","dateCreated":"2022-02-22T00:00:00\u002b00:00","datePublished":"2022-02-22T00:00:00\u002b00:00","dateModified":"2022-02-22T00:00:00\u002b00:00","mainEntityOfPage":"true","wordCount":"1256"}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-HB3D5YJ128"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HB3D5YJ128")}</script></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 print:hidden sm:py-10 dark:text-neutral"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>Clemens Siebler&rsquo;s Blog</a></div><ul class="flex list-none flex-col text-end sm:flex-row"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/posts/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Posts</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/talks/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Talks</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/about/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Using Cognitive Services Read API with data secured by VNET</h1><div class="mb-12 mt-8 text-base text-neutral-500 print:hidden dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-02-22 00:00:00 +0000 UTC">22 February 2022</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">6 mins</span></div></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8"><div class="toc pe-5 print:hidden lg:sticky lg:top-10"><details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5"><summary class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#data-behind-vnet--what-does-it-mean>Data behind VNET – what does it mean?</a><ul><li><a href=#desired-state>Desired state</a></li></ul></li><li><a href=#the-solution--managed-identity-and-resource-service-instances-to-the-rescue>The solution – Managed Identity and Resource Service Instances to the rescue!</a><ul><li><a href=#managed-identities>Managed Identities</a></li><li><a href=#resource-service-instances>Resource Service Instances</a></li><li><a href=#overall-architecture>Overall Architecture</a></li></ul></li><li><a href=#step-by-step-guide>Step-by-step guide</a><ul><li><a href=#testing-the-whole-setup>Testing the whole setup</a></li></ul></li><li><a href=#summary>Summary</a></li></ul></nav></div></details></div></div><div class="min-h-0 min-w-0 max-w-prose grow"><h2 id=introduction class="relative group">Introduction <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#introduction aria-label=Anchor>#</a></span></h2><p>This post discusses how Cognitive Services can be used to process data that is securely stored behind a VNET. This allows to improve security further when processing sensitive data that is stored in Storage Accounts. In this post, we&rsquo;ll look into using Read API (from the Azure Computer Vision API) to analyze documents that are heavily protected using networking rules.</p><p>This post also applies to other Cognitive Services, such as for example <a href=https://azure.microsoft.com/en-us/services/form-recognizer/ target=_blank rel=noreferrer>Form Recognizer</a> or <a href=https://azure.microsoft.com/en-us/services/cognitive-services/speech-services/ target=_blank rel=noreferrer>Speech API</a>.</p><h2 id=data-behind-vnet--what-does-it-mean class="relative group">Data behind VNET – what does it mean? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#data-behind-vnet--what-does-it-mean aria-label=Anchor>#</a></span></h2><p>In Azure, many users protect their data using a set of security perimeters. While these are typically not all measurements users take to store their data securely, those are the most common ones that most people use:</p><ul><li>Authentication layer – requirement to authenticate at the storage layer, e.g., via a access key or based on an identity (could be a real user or a system managed identity)</li><li>Authorization layer – what is the identity allowed to do with the data (just read certain folders, write data, delete, etc.)</li><li>Networking layer – from where is the identity allowed to access the data (from the internet, from a range of IP addresses, only from within a VNET, from &ldquo;nowhere&rdquo;)
For example, your Networking settings on your Storage Account might look like this:</li></ul><p><figure><img src=/images/storage_account.png alt="Typical Networking settings on a Storage Account" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Typical Networking settings on a Storage Account</figcaption></figure></p><p>In this case, the data can only be access, when the access request originates from within subnet default inside the VNET <code>vnet-test</code>.</p><p>Using these security measurements makes it incredibly hard/potentially impossible to have an attacker access the data. But this also creates a problem: what if an Azure service, like for example a Cognitive Service needs to access this data? The service might be authenticated (e.g., using a SAS URL), but from a networking perspective, the service is obviously not coming from within your VNET:</p><p><figure><img src=/images/vnet_storage_access_denied.png alt="Read API can&amp;rsquo;t access the storage" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Read API can&rsquo;t access the storage</figcaption></figure></p><p>In the drawing above the Read API is:</p><ul><li>Authenticated to access the Storage Account and read the data (using the SAS URL from the request)</li><li>Blocked by the networking rules of the Storage account</li></ul><p>If we would remove the networking rule on the storage account, the data access would obviously be allowed:</p><p><figure><img src=/images/no_vnet_storage_access_allowed.png alt="Read API can access the storage" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Read API can access the storage</figcaption></figure></p><p>However, this is obviously not the desired setup as the Storage Account might hold sensitive data.</p><h3 id=desired-state class="relative group">Desired state <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#desired-state aria-label=Anchor>#</a></span></h3><p>Obviously, we want to make sure that we do everything possible to protect our data as much as we can. Furthermore, it would also be even more secure if we did not have to use a SAS URL at all. Sure, this URL might be short lived, but why not get rid of it if we can? But most importantly, we want to make sure we can use our Cognitive Services, despite the data being sitting behind a VNET.</p><h2 id=the-solution--managed-identity-and-resource-service-instances-to-the-rescue class="relative group">The solution – Managed Identity and Resource Service Instances to the rescue! <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#the-solution--managed-identity-and-resource-service-instances-to-the-rescue aria-label=Anchor>#</a></span></h2><p>The solution to make this scenario work requires two components:</p><ul><li><a href=https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview target=_blank rel=noreferrer>Managed Identities</a></li><li><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-network-security?tabs=azure-portal#grant-access-from-azure-resource-instances-preview" target=_blank rel=noreferrer>Resource Service Instances</a></li></ul><h3 id=managed-identities class="relative group">Managed Identities <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#managed-identities aria-label=Anchor>#</a></span></h3><p>Most Azure services can &ldquo;assume&rdquo; a <strong>Managed Identity</strong>. A Managed Identity is a system user that is tied to that specific Azure resource. Since it is a &ldquo;user&rdquo;, the identity lives in your Azure Active Directory. That means we can assign that identity other privileges, such as access to storage or other Azure services. This means we can firstly assign our Cognitive Service a Managed Identity. Secondly, we can allow that identity to be able to read/write to our storage account using IAM. As a result, the Cognitive Service can access data without the need for access keys. Instead, it automatically requests an OAuth token from AAD and uses it to authenticate to the storage.</p><h3 id=resource-service-instances class="relative group">Resource Service Instances <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#resource-service-instances aria-label=Anchor>#</a></span></h3><p>However, the networking layer will still block the request and this is where <strong>Resource Service Instances</strong> come into play. With this feature we can specify a list of Azure services that are allowed to connect to the storage account regardless of its networking settings. This means, we can explicitly permit our Cognitive Service resource to &ldquo;tunnel through&rdquo; the firewall. Is this a security issue? No, because it is only allowed for the identity of the Cognitive Service itself. And as this identity is a system user, it is automatically secured.</p><h3 id=overall-architecture class="relative group">Overall Architecture <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#overall-architecture aria-label=Anchor>#</a></span></h3><p>Putting both together, we get to this:</p><p><figure><img src=/images/vnet_storage_access_allowed.png alt="Read API can access the storage account using its Managed Identity" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Read API can access the storage account using its Managed Identity</figcaption></figure></p><p>In this case:</p><ul><li>Read API uses its Managed Identity to authenticate at the Storage Account (no SAS URL required!)</li><li>The Resource Service Instance configuration on the Storage Account allows the Managed Identity to &ldquo;get through&rdquo; the VNET-firewall</li></ul><h2 id=step-by-step-guide class="relative group">Step-by-step guide <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#step-by-step-guide aria-label=Anchor>#</a></span></h2><p>To try this out, first create a new Computer Vision API (this includes the Read API):</p><p><figure><img src=/images/aad_computer_vision_create.png alt="Create a new Computer Vision API" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Create a new Computer Vision API</figcaption></figure></p><p>During the creation, make sure to enable <strong>Managed Identity</strong>. You can also always later enable it under the <strong>Identity</strong> tab:</p><p><figure><img src=/images/computer_vision_managed_identity.png alt="Managed Identity on Computer Vision API" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Managed Identity on Computer Vision API</figcaption></figure></p><p>Next, click <strong>Azure Role Assignments</strong> on the same screen and select <strong>Add role assignment</strong>. Then, assign the <strong>Storage Blob Data Reader</strong> role to your <strong>Storage Account</strong>. Once done, you could send plain storage URLS without SAS tokens to Read API and it could read the data.</p><p>Next, navigate to your Storage Account, select <strong>Networking</strong> and check the network settings. In our example here, we only allow access from <strong>selected networks</strong>. Ironically, we did not select any VNET, so the data can&rsquo;t be accessed from anywhere, including Cognitive Services. However, we&rsquo;ll add the <strong>Cognitive Services Resource type</strong> and then name of our <strong>Cognitive Service instance</strong>. This means our Cognitive Service can tunnel through this super-restrictive networking setting!</p><p><figure><img src=/images/networking_settings_storage.png alt="Allowing our Cognitive Service resource to tunnel through the firewall" class="mx-auto my-0 rounded-md"><figcaption class=text-center>Allowing our Cognitive Service resource to tunnel through the firewall</figcaption></figure></p><p>Don&rsquo;t forget to hit the save button.</p><h3 id=testing-the-whole-setup class="relative group">Testing the whole setup <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#testing-the-whole-setup aria-label=Anchor>#</a></span></h3><p>Once done, we can fire a few REST API calls to send a document to the Read API:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err># @name read_document
</span></span></span><span class=line><span class=cl><span class=err>POST https://computer-vision-demo124.cognitiveservices.azure.com/vision/v3.2/read/analyze
</span></span></span><span class=line><span class=cl><span class=err>     ?language=en
</span></span></span><span class=line><span class=cl><span class=err>     &amp;pages=1
</span></span></span><span class=line><span class=cl><span class=err>     &amp;readingOrder=natural
</span></span></span><span class=line><span class=cl><span class=err>Content-Type: application/json
</span></span></span><span class=line><span class=cl><span class=err>Ocp-Apim-Subscription-Key: &lt;secret key&gt;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    &#34;url&#34;: &#34;https://dgjt35hksss.blob.core.windows.net/data/description.png&#34;
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>##### This request queries the status of the Read API operation
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err># @name get_results
</span></span></span><span class=line><span class=cl><span class=err>GET {{read_document.response.headers.Operation-Location}}
</span></span></span><span class=line><span class=cl><span class=err>Content-Type: application/json
</span></span></span><span class=line><span class=cl><span class=err>Ocp-Apim-Subscription-Key: &lt;secret key&gt;
</span></span></span></code></pre></div><p>The result looks successful:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;succeeded&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;createdDateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-02-22T12:52:59Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;lastUpdatedDateTime&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-02-22T12:53:00Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;analyzeResult&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;3.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;modelVersion&#34;</span><span class=p>:</span> <span class=s2>&#34;2021-04-12&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;readResults&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;page&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;angle&#34;</span><span class=p>:</span> <span class=mf>-0.7095</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>...</span>
</span></span></code></pre></div><p>Despite us just sending a regular URL (<code>https://dgjt35hksss.blob.core.windows.net/data/description.png</code>), the Read API can access the data:</p><ul><li>Authenticated through its Managed Identity and</li><li>allowed through the firewall by the Resource Instance configuration</li></ul><p>If we remove the Resource instance definition, we would get the following message, as the URL would return a 403 error to the Cognitive Service:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=s2>&#34;InvalidImageURL&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Failed to download the image from the submitted URL. The URL may either be invalid or the server hosting the image is experiencing some technical difficulties.&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Great, looks like it is working fine now!</p><p>By the way, we can entirely avoid the secret to call the Cognitive Service itself. If you are interested, have a look at this blog post:
<a href=/posts/azure-active-directory-aad-authentication-for-azure-cognitive-services/>Azure Active Directory (AAD) authentication for Azure Cognitive Services</a>.</p><h2 id=summary class="relative group">Summary <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#summary aria-label=Anchor>#</a></span></h2><p>Many users want to protect their sensitive data using as many measurements there are available on the Azure platform:</p><ul><li>Firstly, this will be using authentication and authorization for accessing data on storage</li><li>Secondly, this will include networking rules to limit from where data can be accessed</li></ul><p>This creates a unique challenge for accessing this VNET-protected data using Cognitive Services. However, combing the usage of <strong>Managed Identities</strong> and <strong>Resource Service Instances</strong> solve the problem. They enable users to keep their data well protected, but still allows them to process it by Cognitive Services.</p></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.facebook.com/sharer/sharer.php?u=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;quote=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Share on Facebook" aria-label="Share on Facebook" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14.0 55.52 4.84 55.52 4.84v61h-31.28c-30.8.0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://twitter.com/intent/tweet/?url=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;text=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Tweet on Twitter" aria-label="Tweet on Twitter" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;description=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Pin on Pinterest" aria-label="Pin on Pinterest" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M496 256c0 137-111 248-248 248-25.6.0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8.0 128.7-68.8 128.7-154.3.0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1.0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6.0-54.7 41.4-107.6 112-107.6 60.9.0 103.6 41.5 103.6 100.9.0 67.1-33.9 113.6-78 113.6-24.3.0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6.0-19-10.2-34.9-31.4-34.9-24.9.0-44.9 25.7-44.9 60.2.0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9.0 361.1.0 256 0 119 111 8 248 8s248 111 248 248z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;resubmit=true&amp;title=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Submit to Reddit" aria-label="Submit to Reddit" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;title=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Share on LinkedIn" aria-label="Share on LinkedIn" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://clemenssiebler.com/posts/using-cognitive-services-read-api-with-data-secured-by-vnet/&amp;subject=Using%20Cognitive%20Services%20Read%20API%20with%20data%20secured%20by%20VNET" title="Send via email" aria-label="Send via email" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a></section><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/posts/azure-read-api-for-processing-many-documents-at-scale/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Using Azure Read API for processing many documents at scale</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2021-11-17 00:00:00 +0000 UTC">17 November 2021</time>
</span></span></a></span><span><a class="group flex text-right" href=/posts/azure-active-directory-aad-authentication-for-azure-cognitive-services/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Azure Active Directory (AAD) authentication for Azure Cognitive Services</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-02-22 00:00:00 +0000 UTC">22 February 2022</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></footer></article><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".prose img"));images.forEach(e=>{mediumZoom(e,{margin:5,scrollOffset:40,container:null,template:null})})</script></footer></div></body></html>